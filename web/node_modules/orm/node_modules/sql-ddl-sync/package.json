{
  "author": {
    "name": "Diogo Resende",
    "email": "dresende@thinkdigital.pt"
  },
  "name": "sql-ddl-sync",
  "description": "NodeJS SQL DDL Synchronization",
  "keywords": [
    "sql",
    "ddl",
    "sync",
    "mysql",
    "postgres",
    "sqlite"
  ],
  "version": "0.3.5",
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "http://github.com/dresende/node-sql-ddl-sync.git"
  },
  "main": "./lib/Sync",
  "scripts": {
    "test": "make test"
  },
  "engines": {
    "node": "*"
  },
  "analyse": false,
  "dependencies": {
    "lodash": "2.4.1"
  },
  "devDependencies": {
    "mocha": "1.14.0",
    "should": "2.0.2",
    "commander": "~2.0.0",
    "orm": "2.1.6"
  },
  "readme": "## NodeJS SQL DDL Synchronization\r\n\r\n[![Build Status](https://secure.travis-ci.org/dresende/node-sql-ddl-sync.png?branch=master)](http://travis-ci.org/dresende/node-sql-ddl-sync)\r\n[![](https://badge.fury.io/js/sql-ddl-sync.png)](https://npmjs.org/package/sql-ddl-sync)\r\n[![](https://gemnasium.com/dresende/node-sql-ddl-sync.png)](https://gemnasium.com/dresende/node-sql-ddl-sync)\r\n\r\n## Install\r\n\r\n```sh\r\nnpm install sql-ddl-sync\r\n```\r\n\r\n## Dialects\r\n\r\n- MySQL\r\n- PostgreSQL\r\n\r\n## About\r\n\r\nThis module is part of [ORM](http://dresende.github.com/node-orm2). It's used synchronize model tables in supported dialects.\r\nSorry there is no API documentation for now but there are a couple of tests you can read and find out how to use it if you want.\r\n\r\n## Example\r\n\r\nInstall `orm` & the required driver (eg: `mysql`).\r\nCreate a file with the contents below and change insert your database credentials.\r\nRun once and you'll see table `ddl_sync_test` appear in your database. Then make some changes to it (add/drop/change columns)\r\nand run the code again. Your table should always return to the same structure.\r\n\r\n```js\r\nvar orm    = require(\"orm\");\r\nvar mysql  = require(\"mysql\");\r\nvar Sync   = require(\"sql-ddl-sync\").Sync;\r\n\r\norm.connect(\"mysql://username:password@localhost/database\", function (err, db) {\r\n\tif (err) throw err;\r\n\tvar driver = db.driver;\r\n\r\n\tvar sync = new Sync({\r\n\t\tdialect : \"mysql\",\r\n\t\tdriver  : driver,\r\n\t\tdebug   : function (text) {\r\n\t\t\tconsole.log(\"> %s\", text);\r\n\t\t}\r\n\t});\r\n\r\n\tsync.defineCollection(\"ddl_sync_test\", {\r\n\t\tid     : { type : \"number\", primary: true, serial: true },\r\n\t\tname   : { type : \"text\", required: true },\r\n\t\tage    : { type : \"number\", rational: true },\r\n\t\tmale   : { type : \"boolean\" },\r\n\t\tborn   : { type : \"date\", time: true },\r\n\t\tborn2  : { type : \"date\" },\r\n\t\tint2   : { type : \"number\", size: 2 },\r\n\t\tint4   : { type : \"number\", size: 4 },\r\n\t\tint8   : { type : \"number\", size: 8 },\r\n\t\tfloat4 : { type : \"number\", rational: true, size: 4 },\r\n\t\tfloat8 : { type : \"number\", rational: true, size: 8 },\r\n\t\ttype   : { type : \"enum\", values: [ 'dog', 'cat'], defaultValue: 'dog', required: true },\r\n\t\tphoto  : { type : \"binary\" }\r\n\t});\r\n\r\n\tsync.sync(function (err) {\r\n\t\tif (err) {\r\n\t\t\tconsole.log(\"> Sync Error\");\r\n\t\t\tconsole.log(err);\r\n\t\t} else {\r\n\t\t\tconsole.log(\"> Sync Done\");\r\n\t\t}\r\n\t\tprocess.exit(0);\r\n\t});\r\n});\r\n\r\n```\r\n\r\n## Test\r\n\r\nTo test, first make sure you have development dependencies installed. Go to the root folder and do:\r\n\r\n```sh\r\nnpm install\r\n```\r\n\r\nThen, just run the tests.\r\n\r\n```sh\r\nnpm test\r\n```\r\n\r\nIf you have a supported database server and want to test against it, first install the module:\r\n\r\n```sh\r\n# if you have a mysql server\r\nnpm install mysql\r\n# if you have a postgresql server\r\nnpm install pg\r\n```\r\n\r\nAnd then run:\r\n\r\n```sh\r\nnode test/run-db --uri 'mysql://username:password@localhost/database'\r\n```\r\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/dresende/node-sql-ddl-sync/issues"
  },
  "homepage": "https://github.com/dresende/node-sql-ddl-sync",
  "_id": "sql-ddl-sync@0.3.5",
  "dist": {
    "shasum": "0697561c56d0079ffd182653420f1553abe6e8ee"
  },
  "_resolved": "git://github.com/dresende/node-sql-ddl-sync.git#8c9338af08ff9a7c0c0b999a1c140c316ece3ca1",
  "_from": "sql-ddl-sync@git://github.com/dresende/node-sql-ddl-sync.git#v0.3.5"
}
